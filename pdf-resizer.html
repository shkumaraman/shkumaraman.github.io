<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Size Reducer</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
}

.container {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    text-align: center;
}

.label {
    margin-right: 8px;
}

.file-input,
.percentage-input,
.reduce-button {
    margin-top: 8px;
    padding: 8px;
    font-size: 16px;
}

.reduce-button {
    background-color: #4CAF50;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.reduce-button:hover {
    background-color: #45a049;
}

</style>

</head>

<body>
    <div class="container">
        <h2>PDF Size Reducer</h2>
        <label for="fileInput" class="label">Choose a PDF file:</label>
        <input type="file" id="fileInput" accept=".pdf" class="file-input">
        <br>
        <label for="reductionInput" class="label">Reduction Percentage:</label>
        <input type="number" id="reductionInput" min="1" max="99" value="10" class="percentage-input"> %
        <br>
        <button onclick="reducePdfSize()" class="reduce-button">Reduce Size</button>
    </div>
      <script type="module">
        import { PDFDocument } from 'https://cdn.skypack.dev/pdf-lib';

        async function reducePdfSize() {
            const fileInput = document.getElementById('fileInput');
            const reductionInput = document.getElementById('reductionInput');

            if (fileInput.files.length === 0) {
                alert('Please choose a PDF file.');
                return;
            }

            const pdfFile = fileInput.files[0];
            const reductionPercentage = parseInt(reductionInput.value);

            const pdfBytes = await pdfFile.arrayBuffer();
            const pdfDoc = await PDFDocument.load(pdfBytes);

            // Perform size reduction here, adjust as needed
            const pages = pdfDoc.getPages();
            pages.forEach(page => {
                const { width, height } = page.getSize();
                page.setSize(width * (1 - reductionPercentage / 100), height * (1 - reductionPercentage / 100));
            });

            const reducedPdfBytes = await pdfDoc.save();

            // Create a blob from the reduced PDF bytes
            const blob = new Blob([reducedPdfBytes], { type: 'application/pdf' });

            // Create a download link and trigger the download
            const downloadLink = document.createElement('a');
            downloadLink.href = URL.createObjectURL(blob);
            downloadLink.download = 'reduced_pdf.pdf';
            downloadLink.click();
        }
    </script>
</body>
</html>
