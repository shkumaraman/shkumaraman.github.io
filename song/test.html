<input type="text" id="searchQuery" placeholder="Search for songs..." />
<button onclick="searchSongs()">Search</button>

<ul id="searchResults"></ul>

<script>
  async function searchSongs() {
    const query = document.getElementById('searchQuery').value;
    if (!query) return;

    const response = await fetch(`https://jiosaavn-ygm1.onrender.com/result/?query=${encodeURIComponent(query)}`);
    const data = await response.json();

    const results = data.songs || [];
    const list = document.getElementById('searchResults');
    list.innerHTML = '';

    results.forEach(song => {
      const listItem = document.createElement('li');
      listItem.textContent = song.song;
      listItem.onclick = () => playSong(song);
      list.appendChild(listItem);
    });
  }

  function playSong(song) {
    const audio = new Audio(song.media_url);
    audio.play();
    alert(`Now playing: ${song.song} by ${song.primary_artists}`);
  }
</script>
