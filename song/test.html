<input type="text" id="searchQuery" placeholder="Search songs..." />
<button onclick="searchSongs()">Search</button>

<ul id="searchResults"></ul>

<script>
async function searchSongs() {
  const query = document.getElementById('searchQuery').value;
  if (!query) return;

  const response = await fetch(`https://jiosaavn-ygm1.onrender.com/result/?query=${encodeURIComponent(query)}`);
  const data = await response.json();

  const songs = data.songs?.data || [];
  const list = document.getElementById('searchResults');
  list.innerHTML = '';

  songs.forEach(song => {
    const listItem = document.createElement('li');
    listItem.textContent = `${song.title} - ${song.more_info.singers}`;
    listItem.style.cursor = "pointer";
    listItem.onclick = () => {
      const audio = new Audio(song.more_info.vlink);
      audio.play();
      alert(`Now playing: ${song.title}`);
    };
    list.appendChild(listItem);
  });
}
</script>
