<style>
:root {
  --dark-bg: #121212;
  --light-bg: #f5f5f5;
  --dark-text: #fff;
  --light-text: #333;
}

.loading-screen {
  position: fixed;
  inset: 0;
  background: var(--dark-bg);
  color: var(--dark-text);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  font-family: 'Segoe UI', sans-serif;
}

body.light-mode .loading-screen {
  background: var(--light-bg);
  color: var(--light-text);
}

.loader {
  text-align: center;
}

.loader img {
  width: 120px;
  margin-bottom: 20px;
  border-radius: 12px;
}

.loader p {
  font-size: 18px;
  letter-spacing: 1px;
  opacity: 0.8;
}
</style>

<div class="loading-screen" id="globalLoader">
  <div class="loader">
    <img src="/chat/logo.png" alt="Logo">
    <p id="loadingText">Please Wait</p>
  </div>
</div>

<script>
(function () {
  const loader = document.getElementById("globalLoader");
  const text = document.getElementById("loadingText");
  let dots = 0;

  setInterval(() => {
    dots = (dots + 1) % 4;
    text.textContent = "Please Wait" + ".".repeat(dots);
  }, 500);

  window.hideLoader = function () {
    if (loader) loader.style.display = "none";
  };

  window.addEventListener("load", () => {
    if (!window.__CHAT_PAGE__) {
      window.hideLoader();
    }
  });
})();
</script>
