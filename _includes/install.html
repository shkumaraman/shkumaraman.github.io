<div id="pwa-install-bar" style="display:none; background:#121212; color:white; padding:10px 20px; display:flex; align-items:center; justify-content:space-between;">
  <span style="font-weight:bold;">🚀 Install TalkRush</span>
  <button id="installBtn" style="background:#ffffff; color:#121212; border:none; padding:6px 14px; border-radius:6px; font-weight:bold; cursor:pointer;">
    Install
  </button>
</div>

<script>
let deferredPrompt;

window.addEventListener("beforeinstallprompt", (e) => {
  e.preventDefault();
  deferredPrompt = e;

  // Show the top install bar
  const bar = document.getElementById("pwa-install-bar");
  bar.style.display = "flex";

  const installBtn = document.getElementById("installBtn");
  installBtn.addEventListener("click", () => {
    bar.style.display = "none"; // hide bar
    deferredPrompt.prompt();

    deferredPrompt.userChoice.then((choiceResult) => {
      if (choiceResult.outcome === "accepted") {
        console.log("User accepted the install ✅");
      } else {
        console.log("User dismissed the install ❌");
      }
      deferredPrompt = null;
    });
  });
});

// Hide bar if app is already installed
window.addEventListener("appinstalled", () => {
  document.getElementById("pwa-install-bar").style.display = "none";
  console.log("PWA installed successfully 🎉");
});
</script>
