<div id="pwa-install-bar" 
     style="display:none; position:fixed; top:0; left:0; width:100%; z-index:1000;
            background:#121212; color:white; padding:6px 14px;
            display:flex; align-items:center; justify-content:space-between; font-size:14px;">
  <span style="font-weight:600;">Install TalkRush</span>
  <button id="installBtn" 
          style="background:#ffffff; color:#121212; border:none; padding:4px 10px; 
                 border-radius:4px; font-weight:600; cursor:pointer; font-size:13px;">
    Install
  </button>
</div>

<script>
let deferredPrompt;

window.addEventListener("beforeinstallprompt", (e) => {
  e.preventDefault();
  deferredPrompt = e;

  const bar = document.getElementById("pwa-install-bar");
  bar.style.display = "flex";

  const installBtn = document.getElementById("installBtn");
  installBtn.addEventListener("click", () => {
    bar.style.display = "none";
    deferredPrompt.prompt();

    deferredPrompt.userChoice.then((choiceResult) => {
      if (choiceResult.outcome === "accepted") {
        console.log("User accepted the install ✅");
      } else {
        console.log("User dismissed the install ❌");
      }
      deferredPrompt = null;
    });
  });
});

window.addEventListener("appinstalled", () => {
  document.getElementById("pwa-install-bar").style.display = "none";
  console.log("PWA installed successfully 🎉");
});
</script>
