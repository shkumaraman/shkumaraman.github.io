<div style="
  width: 95%;
  height: 90px;
  background-color: #121212;
  color: #eee;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  border-radius: 8px;
  box-sizing: border-box;
  margin: 20px auto;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
">
  <div style="display: flex; align-items: center; gap: 15px;">
    <i class="fab fa-whatsapp" style="font-size: 20px; color: #25D366;"></i>
    <span style="font-size: 13px; font-weight: 500;">Join WhatsApp Channel</span>
  </div>
  <a href="https://whatsapp.com/channel/0029Vb6oERYGU3BSWXxtI40Z" target="_blank" style="
    background-color: #25D366;
    color: #121212;
    padding: 10px 20px;
    border-radius: 5px;
    font-weight: bold;
    text-decoration: none;
    transition: background-color 0.3s ease;
  " onmouseover="this.style.backgroundColor='#1DA955'" onmouseout="this.style.backgroundColor='#25D366'">
    Join
  </a>
</div>

<div id="pwa-install-bar" 
     style="display:none; width:90%; max-width:400px; height:180px; 
            background: linear-gradient(135deg, #e91e63, #9c27b0);
            display:flex; flex-direction:column; align-items:center; justify-content:center; 
            gap:12px; border-radius:16px; margin:20px auto; padding:25px 20px;
            border:2px solid rgba(255,255,255,0.3); box-shadow:0 8px 25px rgba(0,0,0,0.2);
            color:white; text-align:center;">

  <span style="font-weight:700; font-size:22px; letter-spacing:0.5px;">Install TalkRush</span>

  <p style="margin:0; font-size:15px; opacity:0.9; line-height:1.4;">Add to your home screen for quick access</p>

  <button id="installBtn" 
          style="background:#ffffff; color:#9c27b0; border:none; padding:10px 30px; 
                 border-radius:10px; font-weight:600; cursor:pointer; font-size:15px;
                 margin-top:8px; box-shadow:0 4px 12px rgba(0,0,0,0.15); transition:all 0.3s;">
    Install Now
  </button>
</div>

<script>
let deferredPrompt;

document.addEventListener("DOMContentLoaded", () => {
  const bar = document.getElementById("pwa-install-bar");
  const installBtn = document.getElementById("installBtn");

  // Add hover effect to button
  installBtn.addEventListener('mouseenter', () => {
    installBtn.style.transform = 'translateY(-2px)';
    installBtn.style.boxShadow = '0 6px 15px rgba(0,0,0,0.2)';
  });
  
  installBtn.addEventListener('mouseleave', () => {
    installBtn.style.transform = 'translateY(0)';
    installBtn.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
  });

  // Install prompt event
  window.addEventListener("beforeinstallprompt", (e) => {
    e.preventDefault();
    deferredPrompt = e;
    bar.style.display = "flex";

    installBtn.onclick = () => {
      bar.style.display = "none";
      deferredPrompt.prompt();
      deferredPrompt.userChoice.then((choiceResult) => {
        deferredPrompt = null;
      });
    };
  });

  // After installation, bar should hide
  window.addEventListener("appinstalled", () => {
    bar.style.display = "none";
  });
});
</script>
