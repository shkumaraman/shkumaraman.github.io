<div id="pwa-install-bar" style="display:none; background:#121212; color:white; padding:10px 20px; display:flex; align-items:center; justify-content:space-between;">
  <span style="font-weight:bold;">🚀 Install TalkRush</span>
  <button id="installBtn" style="background:#ffffff; color:#121212; border:none; padding:6px 14px; border-radius:6px; font-weight:bold; cursor:pointer;">
    Install
  </button>
</div>

<script>
let deferredPrompt;

window.addEventListener("beforeinstallprompt", (e) => {
  console.log("✅ beforeinstallprompt fired");
  e.preventDefault();
  deferredPrompt = e;

  const bar = document.getElementById("pwa-install-bar");
  bar.style.display = "flex";
});

document.getElementById("installBtn").addEventListener("click", async () => {
  if (!deferredPrompt) {
    alert("⚠️ Install prompt not available yet.");
    return;
  }
  deferredPrompt.prompt();
  const { outcome } = await deferredPrompt.userChoice;
  console.log("User choice:", outcome);
  deferredPrompt = null;
  document.getElementById("pwa-install-bar").style.display = "none";
});

window.addEventListener("appinstalled", () => {
  console.log("🎉 PWA installed");
  document.getElementById("pwa-install-bar").style.display = "none";
});
</script>
