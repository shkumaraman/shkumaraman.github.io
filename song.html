<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MP3 Player</title>
    <script src="https://apis.google.com/js/api.js"></script>
</head>
<body>

<input type="text" id="searchInput" placeholder="Search for an MP3">
<button onclick="searchAndPlay()">Search & Play</button>

<ul id="searchResults"></ul>

<audio id="audioPlayer" controls></audio>

<script>
    function loadYouTubeAPI() {
        gapi.load('client', initClient);
    }

    function playAudio(videoId) {
    const youtubeWatchLink = `https://www.youtube.com/watch?v=${videoId}`;
    document.getElementById('audioPlayer').src = youtubeWatchLink;
    document.getElementById('audioPlayer').play();
    }
    
    function searchAndPlay() {
        const query = document.getElementById('searchInput').value;
        if (query.trim() !== '') {
            searchVideos(query);
        }
    }

    function searchVideos(query) {
        gapi.client.youtube.search.list({
            part: 'snippet',
            q: query,
            type: 'video',
            maxResults: 5,
        }).then(response => {
            const results = response.result.items;
            displaySearchResults(results);
        }, error => {
            console.error('Error making API request:', error.result.error.message);
        });
    }

    function displaySearchResults(results) {
        const searchResults = document.getElementById('searchResults');
        searchResults.innerHTML = '';
        results.forEach(video => {
            const li = document.createElement('li');
            li.textContent = video.snippet.title;
            li.addEventListener('click', () => playAudio('https://example.com/your-audio.mp3')); // Replace with your actual MP3 link
            searchResults.appendChild(li);
        });
    }

    function playAudio(mp3Url) {
        document.getElementById('audioPlayer').src = mp3Url;
        document.getElementById('audioPlayer').play();
    }
</script>

<!-- Call the loadYouTubeAPI function when the page loads -->
<script>
    document.addEventListener('DOMContentLoaded', loadYouTubeAPI);
</script>

</body>
</html>
