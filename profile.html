---
layout: default
title: "User Profile - TalkRush"
description: "View user profile"
---

<style>
:root {
  --dark-bg: #121212;
  --dark-card: #1e1e1e;
  --dark-text: #fff;
  --dark-secondary: #aaa;
  --dark-btn: #4CAF50;
  --light-bg: #f5f5f5;
  --light-card: #f9f9f9;
  --light-text: #333;
  --light-secondary: #666;
  --light-btn: #4CAF50;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: var(--dark-bg);
  color: var(--dark-text);
  min-height: 100vh;
}

.app-header {
  background: #1a1a1a;
  padding: 15px 20px;
  display: flex;
  align-items: center;
  gap: 15px;
  border-bottom: 1px solid #333;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 100;
}

.back-btn {
  background: none;
  border: none;
  color: white;
  font-size: 1.2em;
  cursor: pointer;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.back-btn:hover {
  background: rgba(255,255,255,0.1);
}

.profile-container {
  max-width: 600px;
  margin: 0 auto;
  padding: 80px 20px 20px;
}

.profile-card {
  background: #1e1e1e;
  border-radius: 20px;
  padding: 30px;
  text-align: center;
  box-shadow: 0 4px 6px rgba(0,0,0,0.3);
}

/* SVG Avatar Styles */
.profile-avatar {
  width: 150px;
  height: 150px;
  margin: 0 auto 20px;
  border-radius: 50%;
  overflow: hidden;
  border: 4px solid #4CAF50;
}

.profile-avatar svg {
  width: 100%;
  height: 100%;
  background: #4CAF50;
}

.profile-name {
  font-size: 2em;
  margin-bottom: 10px;
  word-break: break-word;
}

.user-status {
  color: #aaa;
  margin-bottom: 20px;
  font-size: 1.1em;
}

.online-dot {
  color: #4CAF50;
  font-size: 0.8em;
  margin-right: 5px;
}

.user-bio {
  margin: 20px 0;
  padding: 15px;
  background: #2a2a2a;
  border-radius: 10px;
  text-align: left;
}

.user-bio h3 {
  color: #4CAF50;
  margin-bottom: 10px;
  font-size: 1.1em;
}

.user-bio p {
  color: #ddd;
  line-height: 1.6;
}

.user-stats {
  display: flex;
  justify-content: center;
  gap: 40px;
  margin: 25px 0;
  padding: 15px 0;
  border-top: 1px solid #333;
  border-bottom: 1px solid #333;
}

.stat-item {
  text-align: center;
}

.stat-value {
  font-size: 1.8em;
  font-weight: bold;
  color: #4CAF50;
}

.stat-label {
  font-size: 0.9em;
  color: #aaa;
  margin-top: 5px;
}

.message-btn {
  background: #4CAF50;
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 30px;
  font-size: 1.1em;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  transition: 0.3s;
  margin-top: 20px;
}

.message-btn:hover {
  background: #45a049;
  transform: scale(1.05);
}

.loading {
  text-align: center;
  padding: 50px;
  color: #aaa;
}

@media (max-width: 600px) {
  .profile-card {
    padding: 20px;
  }
  
  .profile-avatar {
    width: 120px;
    height: 120px;
  }
  
  .profile-name {
    font-size: 1.5em;
  }
  
  .stat-value {
    font-size: 1.5em;
  }
}
</style>

<div class="app-header">
  <button class="back-btn" onclick="goBack()">
    ‚Üê
  </button>
  <h1>Profile</h1>
</div>

<div class="profile-container" id="profileContainer">
  <div class="loading">
    Loading profile...
  </div>
</div>

<script>
// Get nickname from URL and decode it
const urlParams = new URLSearchParams(window.location.search);
const encodedNickname = urlParams.get('id');
const nickname = encodedNickname ? decodeURIComponent(encodedNickname) : null;

// SVG Avatar Generator
function generateAvatar(name) {
  // Extract first character for avatar
  const firstChar = name ? name.charAt(0).toUpperCase() : '?';
  
  // Generate random but consistent color based on name
  const colors = [
    '#F44336', '#E91E63', '#9C27B0', '#673AB7', 
    '#3F51B5', '#2196F3', '#03A9F4', '#00BCD4',
    '#009688', '#4CAF50', '#8BC34A', '#CDDC39',
    '#FFC107', '#FF9800', '#FF5722', '#795548'
  ];
  
  const colorIndex = name ? name.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0) % colors.length : 0;
  const bgColor = colors[colorIndex];
  
  return `
    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
      <circle cx="50" cy="50" r="50" fill="${bgColor}"/>
      <text x="50" y="70" font-size="50" text-anchor="middle" fill="white" font-family="Arial, sans-serif" dy=".3em">
        ${firstChar}
      </text>
    </svg>
  `;
}

// Load profile data
async function loadProfile() {
  const container = document.getElementById('profileContainer');
  
  if (!nickname) {
    container.innerHTML = `
      <div class="profile-card">
        <h2 style="color: #ff6b6b;">Error: No user specified</h2>
        <button class="message-btn" onclick="goBack()">
          ‚Üê Go Back
        </button>
      </div>
    `;
    return;
  }
  
  try {
    // Simple profile display without Firebase
    const avatarSvg = generateAvatar(nickname);
    
    container.innerHTML = `
      <div class="profile-card">
        <div class="profile-avatar">
          ${avatarSvg}
        </div>
        
        <h1 class="profile-name">${nickname}</h1>
        
        <div class="user-status">
          <span class="online-dot">‚óè</span> Online
        </div>
        
        <div class="user-stats">
          <div class="stat-item">
            <div class="stat-value">0</div>
            <div class="stat-label">Messages</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">0</div>
            <div class="stat-label">Groups</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">‚ö°</div>
            <div class="stat-label">Status</div>
          </div>
        </div>
        
        <div class="user-bio">
          <h3>About</h3>
          <p>Member since 2024</p>
          <p style="margin-top: 10px; color: #aaa;">
            ‚è∞ Last seen: Just now
          </p>
        </div>
        
        <button class="message-btn" onclick="sendMessage()">
          üí¨ Send Message
        </button>
      </div>
    `;
  } catch (error) {
    console.error('Error:', error);
    container.innerHTML = `
      <div class="profile-card">
        <h2 style="color: #ff6b6b;">Error loading profile</h2>
        <button class="message-btn" onclick="goBack()">
          ‚Üê Go Back
        </button>
      </div>
    `;
  }
}

// Navigation functions
window.goBack = function() {
  window.location.href = '/chat/rooms.html';
};

window.sendMessage = function() {
  window.location.href = `/chat/group.html?group=General&to=${encodeURIComponent(nickname)}`;
};

// Load profile on page load
loadProfile();
</script>
